# 클린 아키텍처?

![CleanArchitecture1.png](CleanArchitecture1.png)

## 클린 아키텍처란?

소프트웨어 개발에 사용되는 디자인 패턴 중 하나로, 로버트 C. 마틴(Robert C. Martin)이 제안한 아키텍처 원칙이다.
헥사고날 아키텍처라 부르기도하고 포트와 어댑터 패턴이라고 부르기도 한다.

Clean Architecture는 Layered Architecture와 비교해보면,
Domain은 중심에 위치하게 되며, 의존성은 무조건 상위 레이어에서 하위 레이어로 흐르게 된다.
바깥에서 안쪽으로 들어가는 방향으로 의존성이 흐르기 때문에, 안쪽의 코드는 바깥의 코드에 대해 전혀 알지 못해도 된다.
즉, 안쪽의 코드는 바깥의 코드에 대해 전혀 의존하지 않아도 된다.

또한 Clean Architecture는 매우 규칙이 단순하다.
그저 의존성이 외부에서 내부로만 흘러야하고 관심사의 분리가 핵심이 되어야한다.
그리고 도메인이 절대로 세부사항에 의존하지 않기 때문에 (Use Case 계층에 의해서 도메인은 충분히 추상화되기 때문이죠)
DDD를 구현하기에 최적인 아키텍처 패턴일 수도 있다.

하지만 클린아키텍처의 애매한 점으로, 아키텍처 패턴임에도 지켜야 할 규칙이 너무 단순하기 때문에
클린 아키텍처를 처음 접하게 되면 Best Practice를 못내는 경우가 많다.

## 구성요소

1. Adapter(Infrastructure)

   - 외부 세계(Web, DB, UI)와 애플리케이션 내부의 도메인 및 로직 사이를 연결하는 역할.
   - 클린 아키텍처의 경계를 형성하며, 시스템의 독립성을 보장
   - in: Controller, Ui
   - out: JpaRepository

2. Application(Use Case)

   - 비즈니스 로직의 진입점을 제공
   - 시스템의 usecase를 정의하고 구현하는 서비스가 위치
   - domain과 adapter사이에 상호작용을 조정하고 흐름을 제어

3. Domain
   - 시스템의 핵심 비즈니스 로직을 구현
   - 비즈니스 객체, 도메인 서비스 , 도메인 이벤트 등이 포함
   - 외부 요소에 의존하지 않으며 순수성을 보장


## 기대효과
- 모듈간 결합도가 감소되어 변경에 대해 쉬워진다.
- 독립적으로 테스트를 하기 쉬워진다.
- infrastructure(DB, Cloud 등등) 계층들을 분리함으로써 특정 기술에 종속되지 않는다.
- 독립적으로 배포가 가능해진다.
- 비즈니스 로직에 대해 강조하기 쉬워진다.

## 단점
- 클래스 파일이 많아짐으로써 복잡성이 심해진다.
- 설계에 있어서 어느 정도의 러닝커브가 존재한다.
- 간단한 어플리케이션에 대해 오버헤드가 존재할 수도 있다. (배보다 배꼽이 크다라는 말씀)
